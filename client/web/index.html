<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Attestation Client Frontend</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <h2>Attestation Client Frontend</h2>

    <div class="box">
      <div class="row"><label>Requester name</label> <span id="requesterName" class="mono"></span></div>

      <div class="row">
        <label>Deployment name:</label><br/>
        <input id="deploymentName" type="text" class="mono"/>
        <div class="muted small">
          <div class="muted small">
            Default from config: <span id="defaultDeploymentName" class="mono"></span>. You can override it here.
          </div>
        </div>
      </div>

      <div class="row"><label>Attestation server base:</label> <span id="serverBaseUrl" class="mono"></span></div>

      <div class="row">
        <label>Actual measurement:</label>
        <span id="actualMeas" class="mono"></span>
      </div>
      <div class="row muted small">
        Request nonce → optionally edit nonce_b64 → attest.
      </div>
    </div>

    <div class="row">
      <button id="btnInit">Request nonce</button>
      <button id="btnAttest">Attest</button>
    </div>

    <div class="row">
      <label>request_id (read-only):</label><br/>
      <input id="requestId" type="text" class="mono" readonly/>
      <div class="muted small">
        Returned by init; used for session lookup. Not embedded into the report.
      </div>
    </div>

    <div class="row">
      <label>nonce_b64 (editable):</label><br/>
      <input id="nonceB64" type="text" class="mono"/>
      <div class="muted small">
        Must be valid base64 that decodes to exactly 64 bytes.
      </div>
    </div>

    <div class="row" id="statusBox"></div>

    <div class="row">
      <label>Full response:</label><br/>
      <textarea id="fullResp" readonly></textarea>
    </div>

    <script src="/app.js"></script>
  </body>
</html>
